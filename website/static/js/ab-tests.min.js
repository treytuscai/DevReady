(function(){if(!document.getElementById('hint-btn')||!document.getElementById('submit-btn'))return;const pageLoadTime=new Date().getTime();const group=Math.random()<0.5?'A':'B';let hintClicked=false;document.addEventListener('DOMContentLoaded',()=>{if(group==='B'){const hintButton=document.getElementById('hint-btn');hintButton.classList.remove(...hintButton.classList);hintButton.classList.add('btn','btn-run');const submitButton=document.getElementById('submit-btn');submitButton.parentNode.insertBefore(hintButton,submitButton.nextSibling);}
const hintButton=document.getElementById('hint-btn');hintButton.addEventListener('click',()=>{hintClicked=true;});const submitButton=document.getElementById('submit-btn');submitButton.addEventListener('click',()=>{const submitTime=new Date().getTime();const timeSpent=(submitTime-pageLoadTime)/1000;gtag('event','submit',{event_category:'Submission',event_label:hintClicked?'Hint Used':'No Hint Used',value:timeSpent,event_category:'Group '+group});const data={questionID:parseInt(submitButton.dataset.questionId),group:group,usedHint:hintClicked,timeToSubmit:timeSpent};fetch('/track-ab-test',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)}).then(res=>{if(!res.ok)console.error('Failed to log A/B test');});});});})();